---

- name: Update Homebrew
  homebrew:
    update_homebrew: yes

- name: Create Caskroom directory
  become: true
  file:
    path: /usr/local/Caskroom
    state: directory
    owner: "{{ ansible_user_id }}"
    group: admin
    mode: 0775

- name: Install Homebrew Formulas
  homebrew:
    name: "{{ item }}"
    state: present
  with_items: "{{ homebrew.formulas }}"
  tags:
   - formulas

- name: Install Homebrew Casks
  homebrew_cask:
    name: "{{ item }}"
    state: present
  with_items: "{{ homebrew.casks }}"
  tags:
   - casks

- name:
  homebrew:
    name: grep
    install_options: with-default-names

# vim:set ft=ansible:
